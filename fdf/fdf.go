//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_b "bufio";_cf "bytes";_fc "encoding/hex";_e "errors";_a "fmt";_ed "github.com/doraemonkeys/unipdf/v3/common";_d "github.com/doraemonkeys/unipdf/v3/core";_bf "io";_ff "os";_fa "regexp";_ef "sort";_ec "strconv";_c "strings";);func (_fbe *fdfParser )parseString ()(*_d .PdfObjectString ,error ){_fbe ._bbd .ReadByte ();
var _eae _cf .Buffer ;_gb :=1;for {_geb ,_bfc :=_fbe ._bbd .Peek (1);if _bfc !=nil {return _d .MakeString (_eae .String ()),_bfc ;};if _geb [0]=='\\'{_fbe ._bbd .ReadByte ();_gbb ,_ffd :=_fbe ._bbd .ReadByte ();if _ffd !=nil {return _d .MakeString (_eae .String ()),_ffd ;
};if _d .IsOctalDigit (_gbb ){_dbc ,_ecb :=_fbe ._bbd .Peek (2);if _ecb !=nil {return _d .MakeString (_eae .String ()),_ecb ;};var _aa []byte ;_aa =append (_aa ,_gbb );for _ ,_afe :=range _dbc {if _d .IsOctalDigit (_afe ){_aa =append (_aa ,_afe );}else {break ;
};};_fbe ._bbd .Discard (len (_aa )-1);_ed .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_aa );_efc ,_ecb :=_ec .ParseUint (string (_aa ),8,32);if _ecb !=nil {return _d .MakeString (_eae .String ()),_ecb ;
};_eae .WriteByte (byte (_efc ));continue ;};switch _gbb {case 'n':_eae .WriteRune ('\n');case 'r':_eae .WriteRune ('\r');case 't':_eae .WriteRune ('\t');case 'b':_eae .WriteRune ('\b');case 'f':_eae .WriteRune ('\f');case '(':_eae .WriteRune ('(');case ')':_eae .WriteRune (')');
case '\\':_eae .WriteRune ('\\');};continue ;}else if _geb [0]=='('{_gb ++;}else if _geb [0]==')'{_gb --;if _gb ==0{_fbe ._bbd .ReadByte ();break ;};};_eab ,_ :=_fbe ._bbd .ReadByte ();_eae .WriteByte (_eab );};return _d .MakeString (_eae .String ()),nil ;
};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_d .PdfObjectDictionary ,error ){_db :=map[string ]*_d .PdfObjectDictionary {};for _efa :=0;_efa < fdf ._cg .Len ();_efa ++{_cd ,_ad :=_d .GetDict (fdf ._cg .Get (_efa ));if _ad {_dg ,_ :=_d .GetString (_cd .Get ("\u0054"));
if _dg !=nil {_db [_dg .Str ()]=_cd ;};};};return _db ,nil ;};type fdfParser struct{_adb int ;_fb int ;_fec map[int64 ]_d .PdfObject ;_gc _bf .ReadSeeker ;_bbd *_b .Reader ;_af int64 ;_gfb *_d .PdfObjectDictionary ;};func (_cfe *fdfParser )parseDict ()(*_d .PdfObjectDictionary ,error ){_ed .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");
_dfea :=_d .MakeDict ();_cfdb ,_ :=_cfe ._bbd .ReadByte ();if _cfdb !='<'{return nil ,_e .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_cfdb ,_ =_cfe ._bbd .ReadByte ();if _cfdb !='<'{return nil ,_e .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_cfe .skipSpaces ();_cfe .skipComments ();_bbg ,_ecgf :=_cfe ._bbd .Peek (2);if _ecgf !=nil {return nil ,_ecgf ;};_ed .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_bbg ),string (_bbg ));
if (_bbg [0]=='>')&&(_bbg [1]=='>'){_ed .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_cfe ._bbd .ReadByte ();_cfe ._bbd .ReadByte ();break ;};_ed .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_bgc ,_ecgf :=_cfe .parseName ();_ed .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_bgc );if _ecgf !=nil {_ed .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_ecgf );
return nil ,_ecgf ;};if len (_bgc )> 4&&_bgc [len (_bgc )-4:]=="\u006e\u0075\u006c\u006c"{_cfa :=_bgc [0:len (_bgc )-4];_ed .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_bgc );
_ed .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_cfa );_cfe .skipSpaces ();_fabc ,_ :=_cfe ._bbd .Peek (1);if _fabc [0]=='/'{_dfea .Set (_cfa ,_d .MakeNull ());continue ;};};_cfe .skipSpaces ();
_aadb ,_ecgf :=_cfe .parseObject ();if _ecgf !=nil {return nil ,_ecgf ;};_dfea .Set (_bgc ,_aadb );_ed .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_bgc ,_aadb .String ());};_ed .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _dfea ,nil ;};var _cfd =_fa .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");

// Root returns the Root of the FDF document.
func (_aab *fdfParser )Root ()(*_d .PdfObjectDictionary ,error ){if _aab ._gfb !=nil {if _ccbc ,_bed :=_aab .trace (_aab ._gfb .Get ("\u0052\u006f\u006f\u0074")).(*_d .PdfObjectDictionary );_bed {if _afea ,_gba :=_aab .trace (_ccbc .Get ("\u0046\u0044\u0046")).(*_d .PdfObjectDictionary );
_gba {return _afea ,nil ;};};};var _bag []int64 ;for _ddce :=range _aab ._fec {_bag =append (_bag ,_ddce );};_ef .Slice (_bag ,func (_gbd ,_cac int )bool {return _bag [_gbd ]< _bag [_cac ]});for _ ,_gef :=range _bag {_agd :=_aab ._fec [_gef ];if _aae ,_faa :=_aab .trace (_agd ).(*_d .PdfObjectDictionary );
_faa {if _fdf ,_daa :=_aab .trace (_aae .Get ("\u0046\u0044\u0046")).(*_d .PdfObjectDictionary );_daa {return _fdf ,nil ;};};};return nil ,_e .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_gcf *fdfParser )parseNull ()(_d .PdfObjectNull ,error ){_ ,_ffb :=_gcf ._bbd .Discard (4);
return _d .PdfObjectNull {},_ffb ;};func (_aba *fdfParser )parseBool ()(_d .PdfObjectBool ,error ){_agab ,_eabb :=_aba ._bbd .Peek (4);if _eabb !=nil {return _d .PdfObjectBool (false ),_eabb ;};if (len (_agab )>=4)&&(string (_agab [:4])=="\u0074\u0072\u0075\u0065"){_aba ._bbd .Discard (4);
return _d .PdfObjectBool (true ),nil ;};_agab ,_eabb =_aba ._bbd .Peek (5);if _eabb !=nil {return _d .PdfObjectBool (false ),_eabb ;};if (len (_agab )>=5)&&(string (_agab [:5])=="\u0066\u0061\u006cs\u0065"){_aba ._bbd .Discard (5);return _d .PdfObjectBool (false ),nil ;
};return _d .PdfObjectBool (false ),_e .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};func _abe (_dagb _bf .ReadSeeker )(*fdfParser ,error ){_facc :=&fdfParser {};_facc ._gc =_dagb ;
_facc ._fec =map[int64 ]_d .PdfObject {};_ege ,_egg ,_baff :=_facc .parseFdfVersion ();if _baff !=nil {_ed .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_baff );
return nil ,_baff ;};_facc ._adb =_ege ;_facc ._fb =_egg ;_baff =_facc .parse ();return _facc ,_baff ;};func (_fcd *fdfParser )setFileOffset (_gfe int64 ){_fcd ._gc .Seek (_gfe ,_bf .SeekStart );_fcd ._bbd =_b .NewReader (_fcd ._gc );};func (_bgd *fdfParser )parseHexString ()(*_d .PdfObjectString ,error ){_bgd ._bbd .ReadByte ();
var _fcg _cf .Buffer ;for {_cdd ,_dfe :=_bgd ._bbd .Peek (1);if _dfe !=nil {return _d .MakeHexString (""),_dfe ;};if _cdd [0]=='>'{_bgd ._bbd .ReadByte ();break ;};_ga ,_ :=_bgd ._bbd .ReadByte ();if !_d .IsWhiteSpace (_ga ){_fcg .WriteByte (_ga );};};
if _fcg .Len ()%2==1{_fcg .WriteRune ('0');};_aec ,_abc :=_fc .DecodeString (_fcg .String ());if _abc !=nil {_ed .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_fcg .String ());
return _d .MakeHexString (""),nil ;};return _d .MakeHexString (string (_aec )),nil ;};func (_fed *fdfParser )skipSpaces ()(int ,error ){_bd :=0;for {_fbf ,_ccd :=_fed ._bbd .ReadByte ();if _ccd !=nil {return 0,_ccd ;};if _d .IsWhiteSpace (_fbf ){_bd ++;
}else {_fed ._bbd .UnreadByte ();break ;};};return _bd ,nil ;};func (_bbcd *fdfParser )parseArray ()(*_d .PdfObjectArray ,error ){_fab :=_d .MakeArray ();_bbcd ._bbd .ReadByte ();for {_bbcd .skipSpaces ();_fbg ,_efd :=_bbcd ._bbd .Peek (1);if _efd !=nil {return _fab ,_efd ;
};if _fbg [0]==']'{_bbcd ._bbd .ReadByte ();break ;};_ccc ,_efd :=_bbcd .parseObject ();if _efd !=nil {return _fab ,_efd ;};_fab .Append (_ccc );};return _fab ,nil ;};

// Data represents forms data format (FDF) file data.
type Data struct{_cc *_d .PdfObjectDictionary ;_cg *_d .PdfObjectArray ;};func (_bgb *fdfParser )parseFdfVersion ()(int ,int ,error ){_bgb ._gc .Seek (0,_bf .SeekStart );_bcd :=20;_ccb :=make ([]byte ,_bcd );_bgb ._gc .Read (_ccb );_ece :=_gd .FindStringSubmatch (string (_ccb ));
if len (_ece )< 3{_cfab ,_fcdg ,_dbce :=_bgb .seekFdfVersionTopDown ();if _dbce !=nil {_ed .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_dbce ;};return _cfab ,_fcdg ,nil ;};_bcg ,_afc :=_ec .Atoi (_ece [1]);if _afc !=nil {return 0,0,_afc ;};_bbdg ,_afc :=_ec .Atoi (_ece [2]);if _afc !=nil {return 0,0,_afc ;};_ed .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_bcg ,_bbdg );
return _bcg ,_bbdg ,nil ;};func (_bbc *fdfParser )readTextLine ()(string ,error ){var _fae _cf .Buffer ;for {_dd ,_ddc :=_bbc ._bbd .Peek (1);if _ddc !=nil {_ed .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ddc .Error ());return _fae .String (),_ddc ;
};if (_dd [0]!='\r')&&(_dd [0]!='\n'){_ccdc ,_ :=_bbc ._bbd .ReadByte ();_fae .WriteByte (_ccdc );}else {break ;};};return _fae .String (),nil ;};func (_ccf *fdfParser )readAtLeast (_fcb []byte ,_ab int )(int ,error ){_abd :=_ab ;_bg :=0;_bfga :=0;for _abd > 0{_bac ,_dbd :=_ccf ._bbd .Read (_fcb [_bg :]);
if _dbd !=nil {_ed .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_bac ,_bfga ,_dbd .Error ());return _bg ,_e .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");
};_bfga ++;_bg +=_bac ;_abd -=_bac ;};return _bg ,nil ;};func (_dc *fdfParser )trace (_dcf _d .PdfObject )_d .PdfObject {switch _acd :=_dcf .(type ){case *_d .PdfObjectReference :_ccda ,_cdbb :=_dc ._fec [_acd .ObjectNumber ].(*_d .PdfIndirectObject );
if _cdbb {return _ccda .PdfObject ;};_ed .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_d .PdfIndirectObject :return _acd .PdfObject ;};return _dcf ;};func (_bde *fdfParser )parseName ()(_d .PdfObjectName ,error ){var _fadd _cf .Buffer ;
_bdd :=false ;for {_eb ,_gcd :=_bde ._bbd .Peek (1);if _gcd ==_bf .EOF {break ;};if _gcd !=nil {return _d .PdfObjectName (_fadd .String ()),_gcd ;};if !_bdd {if _eb [0]=='/'{_bdd =true ;_bde ._bbd .ReadByte ();}else if _eb [0]=='%'{_bde .readComment ();
_bde .skipSpaces ();}else {_ed .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_eb ,_eb );return _d .PdfObjectName (_fadd .String ()),_a .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_eb [0]);
};}else {if _d .IsWhiteSpace (_eb [0]){break ;}else if (_eb [0]=='/')||(_eb [0]=='[')||(_eb [0]=='(')||(_eb [0]==']')||(_eb [0]=='<')||(_eb [0]=='>'){break ;}else if _eb [0]=='#'{_cgb ,_efb :=_bde ._bbd .Peek (3);if _efb !=nil {return _d .PdfObjectName (_fadd .String ()),_efb ;
};_bde ._bbd .Discard (3);_aea ,_efb :=_fc .DecodeString (string (_cgb [1:3]));if _efb !=nil {return _d .PdfObjectName (_fadd .String ()),_efb ;};_fadd .Write (_aea );}else {_bga ,_ :=_bde ._bbd .ReadByte ();_fadd .WriteByte (_bga );};};};return _d .PdfObjectName (_fadd .String ()),nil ;
};var _fe =_fa .MustCompile ("\u0025\u0025\u0045O\u0046");func _bgf (_aad string )(_d .PdfObjectReference ,error ){_aeb :=_d .PdfObjectReference {};_fdc :=_age .FindStringSubmatch (_aad );if len (_fdc )< 3{_ed .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");
return _aeb ,_e .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_cfdc ,_cbc :=_ec .Atoi (_fdc [1]);if _cbc !=nil {_ed .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_fdc [1]);
return _aeb ,nil ;};_aeb .ObjectNumber =int64 (_cfdc );_fccb ,_cbc :=_ec .Atoi (_fdc [2]);if _cbc !=nil {_ed .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_fdc [2]);
return _aeb ,nil ;};_aeb .GenerationNumber =int64 (_fccb );return _aeb ,nil ;};func (_ggfd *fdfParser )parseIndirectObject ()(_d .PdfObject ,error ){_cfc :=_d .PdfIndirectObject {};_ed .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");
_ebb ,_ffg :=_ggfd ._bbd .Peek (20);if _ffg !=nil {_ed .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_cfc ,_ffg ;};_ed .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_ebb ));_ca :=_fcc .FindStringSubmatchIndex (string (_ebb ));if len (_ca )< 6{_ed .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_ebb ));
return &_cfc ,_e .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_ggfd ._bbd .Discard (_ca [0]);_ed .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_ca );_gcfd :=_ca [1]-_ca [0];_gdef :=make ([]byte ,_gcfd );_ ,_ffg =_ggfd .readAtLeast (_gdef ,_gcfd );if _ffg !=nil {_ed .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_ffg );
return nil ,_ffg ;};_ed .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_gdef );_dge :=_fcc .FindStringSubmatch (string (_gdef ));if len (_dge )< 3{_ed .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_gdef ));
return &_cfc ,_e .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_fedc ,_ :=_ec .Atoi (_dge [1]);_cdg ,_ :=_ec .Atoi (_dge [2]);_cfc .ObjectNumber =int64 (_fedc );_cfc .GenerationNumber =int64 (_cdg );for {_ega ,_gec :=_ggfd ._bbd .Peek (2);if _gec !=nil {return &_cfc ,_gec ;};_ed .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_ega ),string (_ega ));
if _d .IsWhiteSpace (_ega [0]){_ggfd .skipSpaces ();}else if _ega [0]=='%'{_ggfd .skipComments ();}else if (_ega [0]=='<')&&(_ega [1]=='<'){_ed .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_cfc .PdfObject ,_gec =_ggfd .parseDict ();
_ed .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_gec );if _gec !=nil {return &_cfc ,_gec ;};_ed .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_ega [0]=='/')||(_ega [0]=='(')||(_ega [0]=='[')||(_ega [0]=='<'){_cfc .PdfObject ,_gec =_ggfd .parseObject ();if _gec !=nil {return &_cfc ,_gec ;};_ed .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _ega [0]=='e'{_ebc ,_dae :=_ggfd .readTextLine ();if _dae !=nil {return nil ,_dae ;};if len (_ebc )>=6&&_ebc [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _ega [0]=='s'{_ega ,_ =_ggfd ._bbd .Peek (10);if string (_ega [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_afb :=6;
if len (_ega )> 6{if _d .IsWhiteSpace (_ega [_afb ])&&_ega [_afb ]!='\r'&&_ega [_afb ]!='\n'{_ed .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_afb ++;};if _ega [_afb ]=='\r'{_afb ++;if _ega [_afb ]=='\n'{_afb ++;};}else if _ega [_afb ]=='\n'{_afb ++;};};_ggfd ._bbd .Discard (_afb );_gdbf ,_baf :=_cfc .PdfObject .(*_d .PdfObjectDictionary );if !_baf {return nil ,_e .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_ed .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_gdbf );_bfd ,_ee :=_gdbf .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_d .PdfObjectInteger );if !_ee {return nil ,_e .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_afeb :=*_bfd ;if _afeb < 0{return nil ,_e .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_afeb )> _ggfd ._af {_ed .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_e .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_gbe :=make ([]byte ,_afeb );
_ ,_gec =_ggfd .readAtLeast (_gbe ,int (_afeb ));if _gec !=nil {_ed .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_gbe ),_gbe );_ed .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_gec );
return nil ,_gec ;};_bacc :=_d .PdfObjectStream {};_bacc .Stream =_gbe ;_bacc .PdfObjectDictionary =_cfc .PdfObject .(*_d .PdfObjectDictionary );_bacc .ObjectNumber =_cfc .ObjectNumber ;_bacc .GenerationNumber =_cfc .GenerationNumber ;_ggfd .skipSpaces ();
_ggfd ._bbd .Discard (9);_ggfd .skipSpaces ();return &_bacc ,nil ;};};_cfc .PdfObject ,_gec =_ggfd .parseObject ();return &_cfc ,_gec ;};};_ed .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_cfc ,nil ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_ecc ,_eg :=_ff .Open (fdfPath );if _eg !=nil {return nil ,_eg ;};defer _ecc .Close ();return Load (_ecc );};func (_bbb *fdfParser )getFileOffset ()int64 {_df ,_ :=_bbb ._gc .Seek (0,_bf .SeekCurrent );
_df -=int64 (_bbb ._bbd .Buffered ());return _df ;};func (_dda *fdfParser )parseNumber ()(_d .PdfObject ,error ){return _d .ParseNumber (_dda ._bbd )};func (_fdcc *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_fdcc ._gc .Seek (0,_bf .SeekStart );
_fdcc ._bbd =_b .NewReader (_fdcc ._gc );_ecee :=20;_gea :=make ([]byte ,_ecee );for {_eeag ,_deb :=_fdcc ._bbd .ReadByte ();if _deb !=nil {if _deb ==_bf .EOF {break ;}else {return 0,0,_deb ;};};if _d .IsDecimalDigit (_eeag )&&_gea [_ecee -1]=='.'&&_d .IsDecimalDigit (_gea [_ecee -2])&&_gea [_ecee -3]=='-'&&_gea [_ecee -4]=='F'&&_gea [_ecee -5]=='D'&&_gea [_ecee -6]=='P'{_gga :=int (_gea [_ecee -2]-'0');
_dfd :=int (_eeag -'0');return _gga ,_dfd ,nil ;};_gea =append (_gea [1:_ecee ],_eeag );};return 0,0,_e .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};var _be =_fa .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");
func (_acg *fdfParser )skipComments ()error {if _ ,_gg :=_acg .skipSpaces ();_gg !=nil {return _gg ;};_cb :=true ;for {_ea ,_egb :=_acg ._bbd .Peek (1);if _egb !=nil {_ed .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_egb .Error ());return _egb ;
};if _cb &&_ea [0]!='%'{return nil ;};_cb =false ;if (_ea [0]!='\r')&&(_ea [0]!='\n'){_acg ._bbd .ReadByte ();}else {break ;};};return _acg .skipComments ();};func (_dgg *fdfParser )readComment ()(string ,error ){var _fgc _cf .Buffer ;_ ,_ggf :=_dgg .skipSpaces ();
if _ggf !=nil {return _fgc .String (),_ggf ;};_edg :=true ;for {_gdg ,_ge :=_dgg ._bbd .Peek (1);if _ge !=nil {_ed .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_ge .Error ());return _fgc .String (),_ge ;};if _edg &&_gdg [0]!='%'{return _fgc .String (),_e .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");
};_edg =false ;if (_gdg [0]!='\r')&&(_gdg [0]!='\n'){_fd ,_ :=_dgg ._bbd .ReadByte ();_fgc .WriteByte (_fd );}else {break ;};};return _fgc .String (),nil ;};func _dgd (_cbcb string )(*fdfParser ,error ){_abg :=fdfParser {};_gfc :=[]byte (_cbcb );_bgfe :=_cf .NewReader (_gfc );
_abg ._gc =_bgfe ;_abg ._fec =map[int64 ]_d .PdfObject {};_dag :=_b .NewReader (_bgfe );_abg ._bbd =_dag ;_abg ._af =int64 (len (_cbcb ));return &_abg ,_abg .parse ();};func (_fgg *fdfParser )seekToEOFMarker (_ead int64 )error {_bfe :=int64 (0);_gae :=int64 (1000);
for _bfe < _ead {if _ead <=(_gae +_bfe ){_gae =_ead -_bfe ;};_ ,_bbbf :=_fgg ._gc .Seek (-_bfe -_gae ,_bf .SeekEnd );if _bbbf !=nil {return _bbbf ;};_fcff :=make ([]byte ,_gae );_fgg ._gc .Read (_fcff );_ed .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_fcff ));
_cca :=_fe .FindAllStringIndex (string (_fcff ),-1);if _cca !=nil {_bged :=_cca [len (_cca )-1];_ed .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_cca );_fgg ._gc .Seek (-_bfe -_gae +int64 (_bged [0]),_bf .SeekEnd );return nil ;};_ed .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_bfe +=_gae ;};_ed .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _e .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};

// Load loads FDF form data from `r`.
func Load (r _bf .ReadSeeker )(*Data ,error ){_ffe ,_ae :=_abe (r );if _ae !=nil {return nil ,_ae ;};_da ,_ae :=_ffe .Root ();if _ae !=nil {return nil ,_ae ;};_bfg ,_bb :=_d .GetArray (_da .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_bb {return nil ,_e .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_cg :_bfg ,_cc :_da },nil ;};func (_gaf *fdfParser )parseObject ()(_d .PdfObject ,error ){_ed .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");_gaf .skipSpaces ();for {_fcf ,_add :=_gaf ._bbd .Peek (2);
if _add !=nil {return nil ,_add ;};_ed .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_fcf ));if _fcf [0]=='/'{_gde ,_faf :=_gaf .parseName ();_ed .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_gde );
return &_gde ,_faf ;}else if _fcf [0]=='('{_ed .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _gaf .parseString ();}else if _fcf [0]=='['{_ed .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");return _gaf .parseArray ();
}else if (_fcf [0]=='<')&&(_fcf [1]=='<'){_ed .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _gaf .parseDict ();}else if _fcf [0]=='<'{_ed .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");return _gaf .parseHexString ();
}else if _fcf [0]=='%'{_gaf .readComment ();_gaf .skipSpaces ();}else {_ed .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_fcf ,_ =_gaf ._bbd .Peek (15);_bge :=string (_fcf );_ed .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_bge );
if (len (_bge )> 3)&&(_bge [:4]=="\u006e\u0075\u006c\u006c"){_aee ,_bbf :=_gaf .parseNull ();return &_aee ,_bbf ;}else if (len (_bge )> 4)&&(_bge [:5]=="\u0066\u0061\u006cs\u0065"){_def ,_gebf :=_gaf .parseBool ();return &_def ,_gebf ;}else if (len (_bge )> 3)&&(_bge [:4]=="\u0074\u0072\u0075\u0065"){_ecg ,_cde :=_gaf .parseBool ();
return &_ecg ,_cde ;};_ce :=_age .FindStringSubmatch (_bge );if len (_ce )> 1{_fcf ,_ =_gaf ._bbd .ReadBytes ('R');_ed .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_fcf [:]));_agc ,_gebb :=_bgf (string (_fcf ));
return &_agc ,_gebb ;};_ceg :=_cfd .FindStringSubmatch (_bge );if len (_ceg )> 1{_ed .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _gaf .parseNumber ();};_ceg =_be .FindStringSubmatch (_bge );if len (_ceg )> 1{_ed .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");
_ed .Log .Trace ("\u0025\u0020\u0073",_ceg );return _gaf .parseNumber ();};_ed .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_bge );return nil ,_e .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_d .PdfObject ,error ){_cgd ,_adc :=fdf .FieldDictionaries ();if _adc !=nil {return nil ,_adc ;};var _gf []string ;for _ac :=range _cgd {_gf =append (_gf ,_ac );};_ef .Strings (_gf );_cdb :=map[string ]_d .PdfObject {};
for _ ,_aga :=range _gf {_ba :=_cgd [_aga ];_fgd :=_d .TraceToDirectObject (_ba .Get ("\u0056"));_cdb [_aga ]=_fgd ;};return _cdb ,nil ;};func (_agg *fdfParser )parse ()error {_agg ._gc .Seek (0,_bf .SeekStart );_agg ._bbd =_b .NewReader (_agg ._gc );for {_agg .skipComments ();
_bbga ,_adf :=_agg ._bbd .Peek (20);if _adf !=nil {_ed .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _adf ;};if _c .HasPrefix (string (_bbga ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_agg ._bbd .Discard (7);_agg .skipSpaces ();_agg .skipComments ();_eea ,_ :=_agg .parseDict ();_agg ._gfb =_eea ;break ;};_acgf :=_fcc .FindStringSubmatchIndex (string (_bbga ));
if len (_acgf )< 6{_ed .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_bbga ));
return _e .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_ddg ,_adf :=_agg .parseIndirectObject ();if _adf !=nil {return _adf ;};switch _gda :=_ddg .(type ){case *_d .PdfIndirectObject :_agg ._fec [_gda .ObjectNumber ]=_gda ;case *_d .PdfObjectStream :_agg ._fec [_gda .ObjectNumber ]=_gda ;default:return _e .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};var _age =_fa .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");var _fcc =_fa .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");
var _gd =_fa .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");